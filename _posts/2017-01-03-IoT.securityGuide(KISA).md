2016.12.30
사물인터넷 소형 스마트 홈, 가전 보안 가이드(기업용)

**1. 개요
사물 인터넷은 앞으로 정보를 생성, 수집, 공유, 가공하여 다양한 서비스를 제공하게 된다.

**2. 스마트 홈, 가전 보안 위협

- 웹 인터페이스, 인증/허가 보안 위협
개발 편의성을 위해 시스템 명령입력이 가능한 디버깅 페이지 및 유지보수용 계정을 따로 만들어 놓고 제거하지 않은 채 사용자에게 배포

- 네트워크 서비스 보안 위협
개방된 텔넷 포트를 통해 기본 계정 로그인을 통한 관리자 권한 획득
게이트웨이가 기기에 센서로 명령을 내릴 때 암호화를 하지 않은 상태로 전송

- 모바일 앱 보안 위협
디버깅을 통한 실제 코드 노출

- 펌웨어 업데이트, 물리적 보안 위협
오픈소스(Open SSH, SSL)의 알려진 취약점
펌웨어 업데이트의 무결성 검증 미흡
디버깅 포트 (UART, JTAG, SPI 접근)
암호화 키 관리 미흡

**3. 스마트 홈, 가전 보안 가이드

3.1 웹 인터페이스

3.1.1 관리자 페이지에서 사용자가 5회 로그인 실패할 경우, 캡차(CAPTCHA) 등의 보안 기능을 수행한다
-> 관리자 페이지 접근 시 캡차를 적용해야 하며, 사용자가 5회 이상 로그인에 실패했을 경우 입력을 3-5분간 중지시키는 등의 계정 잠금 메커니즘을 적용함

3.1.2 웹 공격에 대한 보안 대응책을 수립해야한다.
-> 시큐어 코딩 가이드 라인 참고

3.2 인증/허가

3.2.1 관리자 페이지 접속 시 최초 ID와 비밀번호의 경우 제품마다 다르게 한다.
3.2.2 모든 비밀번호(최초, 변경 모두 해당)는 영문, 숫자, 특수문자를 포함하여 8자 이상으로 설정해야 한다.
-> 제조사에서는 기기 각각의 비밀번호를 명시 (스티커)
-> 비밀번호 설정/변경 시 영문, 숫자, 특수문자를 포함하여 8자 이상으로 설정
-> 기기 각각의 비밀번호 명시가 어려울 경우, 사용자가 최초 접속 시 복잡도를 만족하는 비밀번호 강제 변경 설정

3.2.3 사용자 관리 페이지 이외에 유지 보수 등을 위한 페이지(숨김 페이지 등) 및 계정을 별도로 구현하지 않아야 한다.
-> 사용자 계정 외 슈퍼 계정을 미 구현
-> 관리자 권한 인증 없이 관리자 권한의 페이지에 접속 가능한지 사전 검증
-> 유지보수용 숨김 페이지

3.2.4 모든 관리자 페이지는 인증 후에 접근할 수 있도록 세션 인증 등을 구현한다
3.2.5 세션 인증 구현 시 순차적으로 증가하는 값이거나 단순 ID 값 등 예측 가능한 세션 ID 값을 사용하지 않도록 한다.
-> 세션 인증 구현 시 예측 가능한 세션 ID 값을 미 사용
-> 세션 인증 구현 시 Hidden Field, Client Side Cookie 기반 인증 기법이 아닌 서버세션 ID 인증을 사용
-> 세션 인증 시 주기적인 세션 값을 변화 시켜야 하며 일정 시간이 지난 후에 폐기
-> 세션 길이는 32비트 이상의 값

3.2.6 디바이스는 게이트웨이를인증하고 게이트웨이는 디바이스를 인증하는 등 상호 인증(이중 인증)을 수행해야 한다
-> 상호 인증을 시작하기 전에 초기키(PSK : Pre-Shared Key)가 안전하게 주입 및 관리
-> 비대칭키 방식의 개인키를 이용한 인증 방식 권장
-> 인증 후 발행된 세션키는 주기적으로 갱신
-> 디바이스에 키를 저장할 경우 최대한 안전한 방식을 사용(키 관리)

3.2.7 디바이스를 제어하는 패킷이 탐지될 경우 이용자에게 알림을 제공한다.
-> 사전에 IP & MAC 등을 인증받고, 위 변조를 통해 정상적이지 않은 패킷을 전송할 경우, 탐지하여 이용자에게 알림 제공

3.3 네트워크

3.3.1 시큐어코딩을 통해 보안 취약점을 최소화하여야 한다.
-> 시큐어 코딩 가이드 라인 참고

3.3.2 불필요한 외부 접속 포트나 Telnet, FTP, UPnP, SNMP 등의 서비스 비활성화를 기본 값으로 하여야 한다.
-> 불필요한 외부 접속 포트(Telnet, FTP, UPnP, SNMP) 등의 서비스 비활성화를 기본 값으로 설정
-> 외부 접속 포트 사용 시 비밀번호 설정, 접근 IP 제한 등 추가적인 보안 조치 수행

3.3.3 네트워크 패킷에서 중요 정보(계정 로그인, IoT 기기 제어 명령 시 등)가 보이지 않도록 암호화해야 한다.
-> 중요정보 암호화 시 전자서명이 포함된 인증서를 사용하여, HTTPS, CoAP(DTLS)등의 프로토콜 이용
-> 영상 암호 송출 시 SRTP, IPSec, SSL 등의 암호 프로토콜 사용

3.4 모바일 앱

3.4.1 컴퍼일러 옵션을 활용하여, 난독화 등의 메모리 보호 기법 적용하여야 한다
-> ProGuard는 안드로이드 SDK를 통해 난독화 지원
-> DexGuard는 유로
-> https://developer.android.com/studio/build/shrink-code.html#configuring
-> 행정안전부의 모바일 대국민 전자정부서비스 앱 가이드라인 참고

3.4.2 무선 네트워크 연결 시 인증 정보가 노출되지 않도록 한다.
-> 무선 네트워크 연결 시 중요정보 및 인증정보가 노출되지 않도록 스니핑 방지 기법을 적용

3.5 펌웨어

3.5.1 개인영상정보를 DB에 별도로 저장, 보관하는 경우에는 이를 암호화하여야 한다.
저장 : 특정 파일에 정보가 계속 쌓이게 되는 것
보관 : 특정 파일 내 정보가 일정 시간(규칙)에 의해 저장되었다가 추후 다른 값으로 사용되는 것
-> 개인영상정보 데이터를 수집 및 저장할 경우 데이터 암호화 적용
-> CCTV 개인영상정보보호 가이드 해설서 참고
